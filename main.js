!function(){var t=Object.create(HTMLElement.prototype),e=document.implementation.createHTMLDocument("");e.body.innerHTML=['<textarea cols="50" rows="14"></textarea>'].join(""),t.createdCallback=function(){var t=this.root=document.createElement("div");t.className="brick-select-proxy-root",t.appendChild(e.body.firstChild.cloneNode(!0)),this.hasAttribute("storage")&&(this.storage=document.getElementById(this.getAttribute("storage")))},t.attachedCallback=function(){this.appendChild(this.root)},t.detachedCallback=function(){this.root.parentNode.removeChild(this.root)},t.log=function(t){var e=this.querySelector("textarea");e&&(e.value=e.value+Date.now()+": "+t+"\n",e.scrollTop=9999)},t.clear=function(){var t=this;t.log("CLEARING DB RECORDS"),t.storage.clear().then(function(){t.log("DONE CLEARING DB RECORDS")}).catch(function(e){t.log("ERR CLEARING "+e)})},t.dump=function(){var t=this;t.log("DUMPING DB RECORDS"),t.storage.getMany().then(function(e){e.forEach(function(e){t.log(JSON.stringify(e))}),t.log("DONE DUMPING DB RECORDS")})},["alpha","beta","gamma"].forEach(function(e){t["put_"+e]=function(){var t=this,o={name:e,created:Date.now()};t.storage.insert(o).then(function(n){t.log("PUT "+e+": "+n+" = "+JSON.stringify(o))})}}),document.registerElement("busybox-storage-demo",{prototype:t})}();